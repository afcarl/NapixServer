define(["Backbone","underscore"],function(e,t){var n=e.Model.extend({select:function(){return this.get("selected")||(this.set({selected:!0}),this.collection.select(this),this.save()),this}}),r=e.Collection.extend({initialize:function(){this.bind("reset",this.sendSelect,this),this._selected=null},select:function(e){this._selected=e,t.each(this.without(e),function(e){e=e.set({selected:!1}),e&&e.save()}),this.trigger("select",e)},sendSelect:function(){var e=this.find(function(e){return e.get("selected")});e&&this.select(e)},selected:function(){return this._selected}});return{Model:n,Collection:r}})