define(["Backbone","underscore"],function(a,b){var c=a.Model.extend({select:function(){return this.get("selected")||(this.set({selected:!0}),this.collection.select(this),this.save()),this}}),d=a.Collection.extend({initialize:function(){this.bind("reset",this.sendSelect,this),this._selected=null},select:function(a){this._selected=a,b.each(this.without(a),function(a){a=a.set({selected:!1}),a&&a.save()}),this.trigger("select",a)},sendSelect:function(){var a=this.find(function(a){return a.get("selected")});a&&this.select(a)},selected:function(){return this._selected}});return{Model:c,Collection:d}})