define(["Backbone","underscore","jQuery"],function(e,t,n){var r=e.View.extend({tagName:"span",className:"json-simple",complex:!1,initialize:function(e){this.value=String(e)},render:function(){return this.$el.text(this.value),this}}),i=r.extend({tagName:"span",initialize:function(e){i.__super__.initialize.call(this,e),e.indexOf("\n")!==-1&&this.setElement(this.make("p",{"class":this.className}))},render:function(){return this.$el.append(t.escape(this.value).replace(/\n/g,"<br />")),this}}),s=r.extend({initialize:function(e){this.value="?",t.any([[t.isNull,"null"],[t.isString,"Empty String"],[t.isArray,"Empty Array"],[t.bind(t.identity,t,!0),"Empty Object"]],function(t){return t[0](e)?(this.value=t[1],!0):!1},this)}}),o=e.View.extend({tagName:"ol",complex:!0,initialize:function(e){this.listViews=t.map(e,f.getView,f)},render:function(){return t.each(this.listViews,function(e){n("<li />").append(e.render().el).appendTo(this.el)},this),this}}),u=e.View.extend({complex:!1,tagName:"li",initialize:function(e,t){this.key=e,this.valueView=f.getView(t)},render:function(){return this.valueView.complex?n("<dd />").append(n("<dl />",{"class":"json-key",text:this.key})).append(n("<dt />").append(this.valueView.render().el)).appendTo(this.el):n("<div />").append(n("<span />",{"class":"json-key",text:this.key})).append(" ").append(this.valueView.render().el).appendTo(this.el),this}}),a=e.View.extend({tagName:"ul",complex:!0,initialize:function(e){this.keyViews=t.map(t.keys(e),function(t){return new u(t,e[t])})},render:function(){return t.each(this.keyViews,function(e){this.$el.append(e.render().el)},this),this}}),f=e.View.extend({className:"json-object json",tagName:"div",initialize:function(e){this.inside=this.constructor.getView(e)},render:function(){return this.$el.append(this.inside.render().el),this}},{getViewClass:function(e){var t;for(t in this.viewsMap)if(this.viewsMap[t][0](e))return this.viewsMap[t][1];return this.defaultView},getView:function(e){var t=this.getViewClass(e);return new t(e)},viewsMap:[[t.isBoolean,r],[t.isNumber,r],[t.isNull,s],[t.isEmpty,s],[t.isString,i],[t.isArray,o]],defaultView:a});return f})