define(["jQuery","underscore","kinetic"],function(e,t,n){return function(){var e=100,r=800,i=400,s=new n.Stage({container:"poc",width:r+50,height:i}),o=new n.Layer;t.map(t.range(5),function(e){var t=(e+1)/5*i-2.5;o.add(new n.Line({points:[50,t,r,t],stroke:"black",strokeWidth:1,listening:!1,dashArray:[1,2]}))});var u=new n.Layer;t.map(t.range(5),function(t){var r=(t+1)/5*i-2.5;o.add(new n.Text({x:25,y:r-10,text:String((1-t/4)*e),align:"right",textFill:"black",fontSize:10}))}),s.add(u),s.add(o);var a=new n.Layer,f=new n.Rect({y:i/2,x:r-50,width:25,height:25,fill:"blue"});f.on("click",function(){h()});var l=new n.Layer,c=0,h=function(){c++;var t=new n.Text({x:50+100*c,y:i-10,textFill:"black",fontSize:10,text:"0 x 0kg"});l.add(t);var r=new n.Circle({radius:10,fill:"green",x:50+100*c,y:200,draggable:!0,dragConstraint:"vertical"});l.add(r);var s=new n.Circle({radius:10,fill:"red",x:50+100*c,y:100,draggable:!0,dragConstraint:"vertical"}),o=function(){var n=(400-r.getAbsolutePosition().y)*e/320;t.setText("0 x "+n+"kg"),l.draw()};r.on("dragend",o),s.on("dragend",o),l.add(s),o()};a.add(f),s.add(a),s.add(l),h()}})